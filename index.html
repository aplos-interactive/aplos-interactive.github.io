<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habeus Papam: The Pontiff's Burden</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@440;700&family=IM+Fell+English+SC&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <div class="desk">
            <div class="desk-surface"></div>

            <div class="panel left-panel">
                <div class="metrics-panel">
                    <h2>Papal Metrics</h2>
                    <p>Piety: <span id="metric-piety">50</span></p>
                    <p>Authority: <span id="metric-authority">50</span></p>
                    <p>Gold: <span id="metric-gold">100</span></p>
                    <p>Public Opinion: <span id="metric-publicOpinion">50</span></p>
                    <p>Cardinal Favor: <span id="metric-cardinalFavor">50</span></p>
                </div>
                <div class="tray in-tray">
                    <p>Incoming Documents</p>
                    <div class="paper-stack"></div>
                </div>
            </div>

            <div class="document-area" id="document-area">
                <div class="document-seal"></div>
                <h3 id="document-title"></h3>
                <div class="document-content-wrapper">
                    <div class="document-content" id="document-content"></div>
                </div>
                <div class="document-source" id="document-source"></div>
                <div class="options-container" id="options-container">
                    </div>
            </div>

            <div class="panel right-panel">
                <div class="game-day-card">
                    <h3>Day <span id="game-day-counter">1</span></h3>
                </div>
                <button id="map-button" class="action-button map-button">View Map</button>
                <div class="tray out-tray">
                    <p>Processed Documents</p>
                    <div class="paper-stack"></div>
                </div>
            </div>

            <div class="desk-item quill-inkwell"></div>
            <div class="desk-item decorative-scroll"></div>
            <div class="desk-item coin-pouch"></div>
        </div>

        <div id="map-overlay" class="overlay map-overlay">
            <div class="map-content">
                <button id="close-map-button" class="close-button">X</button>
                <h2>Map of Medieval Europe</h2>
                <p>A strategic overview of the realm's current political and religious landscape.</p>
                <svg viewBox="0 0 800 500" class="detailed-map">
                    <defs>
                        <pattern id="diagonal-stripes-light" patternUnits="userSpaceOnUse" width="4" height="4">
                            <path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#e0dcc6" stroke-width="0.5"/>
                        </pattern>
                        <pattern id="diagonal-stripes-dark" patternUnits="userSpaceOnUse" width="4" height="4">
                            <path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#5a0000" stroke-width="0.5"/>
                        </pattern>
                    </defs>
                    <rect x="0" y="0" width="800" height="500" fill="#f0e6d2" stroke="#7e593f" stroke-width="2"/>

                    <path d="M50 50 L200 60 L220 150 L100 180 L50 50 Z" fill="#6a9b5f" stroke="#4c7043" stroke-width="2">
                        <title>Kingdom of France</title>
                    </path>
                    <path d="M250 80 L400 90 L420 190 L300 200 L250 80 Z" fill="#ab7668" stroke="#8a5c4e" stroke-width="2">
                        <title>Holy Roman Empire</title>
                    </path>
                    <path d="M500 40 L700 70 L720 200 L550 230 L500 40 Z" fill="#7d7b93" stroke="#5d5b70" stroke-width="2">
                        <title>Kingdom of England</title>
                    </path>
                    <path d="M100 300 L250 320 L270 450 L150 420 L100 300 Z" fill="#b0aa90" stroke="#888572" stroke-width="2">
                        <title>Kingdom of Castile</title>
                    </path>
                    <path d="M350 250 L450 260 L470 380 L370 360 L350 250 Z" fill="#8B0000" stroke="#5a0000" stroke-width="3">
                        <title>Papal States</title>
                    </path>
                    <path d="M500 300 L650 310 L670 420 L550 400 L500 300 Z" fill="#4f3624" stroke="#2e241c" stroke-width="2">
                        <title>Ottoman Territories</title>
                    </path>

                    <path d="M150 100 Q 200 120 250 150 T 350 180" fill="none" stroke="#2a4a8b" stroke-width="2" stroke-linecap="round" stroke-dasharray="2 2"/>
                    <path d="M400 100 Q 450 120 500 150 T 600 180" fill="none" stroke="#2a4a8b" stroke-width="2" stroke-linecap="round" stroke-dasharray="2 2"/>

                    <circle cx="120" cy="80" r="4" fill="#333" stroke="#000" stroke-width="1"><title>Paris</title></circle>
                    <circle cx="320" cy="140" r="4" fill="#333" stroke="#000" stroke-width="1"><title>Rome</title></circle>
                    <circle cx="600" cy="100" r="4" fill="#333" stroke="#000" stroke-width="1"><title>London</title></circle>
                    <circle cx="200" cy="350" r="4" fill="#333" stroke="#000" stroke-width="1"><title>Toledo</title></circle>
                    <circle cx="400" cy="300" r="4" fill="#333" stroke="#000" stroke-width="1"><title>Jerusalem</title></circle>

                    <g transform="translate(700, 450) scale(0.6)">
                        <path d="M0 -30 L5 -10 L25 -25 L10 0 L25 25 L5 10 L0 30 L-5 10 L-25 25 L-10 0 L-25 -25 L-5 -10 Z" fill="#6a0000" stroke="#3a0000" stroke-width="2"/>
                        <circle cx="0" cy="0" r="5" fill="#f0e6d2" stroke="#3a0000" stroke-width="1"/>
                        <text x="0" y="-35" text-anchor="middle" font-family="Cormorant Garamond" font-size="12" fill="#333">N</text>
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
